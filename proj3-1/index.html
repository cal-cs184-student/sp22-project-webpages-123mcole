<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol.lst-kix_vngh70ilzrb6-6{list-style-type:none}ol.lst-kix_vngh70ilzrb6-5.start{counter-reset:lst-ctn-kix_vngh70ilzrb6-5 0}ol.lst-kix_vngh70ilzrb6-7{list-style-type:none}ol.lst-kix_vngh70ilzrb6-8{list-style-type:none}.lst-kix_vngh70ilzrb6-8>li{counter-increment:lst-ctn-kix_vngh70ilzrb6-8}.lst-kix_vngh70ilzrb6-5>li{counter-increment:lst-ctn-kix_vngh70ilzrb6-5}.lst-kix_vngh70ilzrb6-2>li{counter-increment:lst-ctn-kix_vngh70ilzrb6-2}ol.lst-kix_vngh70ilzrb6-3.start{counter-reset:lst-ctn-kix_vngh70ilzrb6-3 0}ol.lst-kix_vngh70ilzrb6-0.start{counter-reset:lst-ctn-kix_vngh70ilzrb6-0 0}.lst-kix_vngh70ilzrb6-6>li{counter-increment:lst-ctn-kix_vngh70ilzrb6-6}ol.lst-kix_vngh70ilzrb6-8.start{counter-reset:lst-ctn-kix_vngh70ilzrb6-8 0}.lst-kix_vngh70ilzrb6-5>li:before{content:"" counter(lst-ctn-kix_vngh70ilzrb6-5,decimal) ". "}ol.lst-kix_vngh70ilzrb6-4.start{counter-reset:lst-ctn-kix_vngh70ilzrb6-4 0}.lst-kix_vngh70ilzrb6-3>li:before{content:"" counter(lst-ctn-kix_vngh70ilzrb6-3,lower-latin) ". "}.lst-kix_vngh70ilzrb6-7>li:before{content:"" counter(lst-ctn-kix_vngh70ilzrb6-7,lower-roman) ". "}.lst-kix_vngh70ilzrb6-3>li{counter-increment:lst-ctn-kix_vngh70ilzrb6-3}.lst-kix_vngh70ilzrb6-4>li:before{content:"" counter(lst-ctn-kix_vngh70ilzrb6-4,lower-roman) ". "}.lst-kix_vngh70ilzrb6-8>li:before{content:"" counter(lst-ctn-kix_vngh70ilzrb6-8,decimal) ". "}ol.lst-kix_vngh70ilzrb6-6.start{counter-reset:lst-ctn-kix_vngh70ilzrb6-6 0}.lst-kix_vngh70ilzrb6-0>li{counter-increment:lst-ctn-kix_vngh70ilzrb6-0}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_vngh70ilzrb6-6>li:before{content:"" counter(lst-ctn-kix_vngh70ilzrb6-6,lower-latin) ". "}.lst-kix_vngh70ilzrb6-1>li{counter-increment:lst-ctn-kix_vngh70ilzrb6-1}.lst-kix_vngh70ilzrb6-4>li{counter-increment:lst-ctn-kix_vngh70ilzrb6-4}ol.lst-kix_vngh70ilzrb6-1.start{counter-reset:lst-ctn-kix_vngh70ilzrb6-1 0}.lst-kix_vngh70ilzrb6-7>li{counter-increment:lst-ctn-kix_vngh70ilzrb6-7}ol.lst-kix_vngh70ilzrb6-2.start{counter-reset:lst-ctn-kix_vngh70ilzrb6-2 0}.lst-kix_vngh70ilzrb6-0>li:before{content:"" counter(lst-ctn-kix_vngh70ilzrb6-0,lower-latin) ". "}ol.lst-kix_vngh70ilzrb6-7.start{counter-reset:lst-ctn-kix_vngh70ilzrb6-7 0}.lst-kix_vngh70ilzrb6-1>li:before{content:"" counter(lst-ctn-kix_vngh70ilzrb6-1,lower-roman) ". "}ol.lst-kix_vngh70ilzrb6-2{list-style-type:none}ol.lst-kix_vngh70ilzrb6-3{list-style-type:none}ol.lst-kix_vngh70ilzrb6-4{list-style-type:none}ol.lst-kix_vngh70ilzrb6-5{list-style-type:none}ol.lst-kix_vngh70ilzrb6-0{list-style-type:none}.lst-kix_vngh70ilzrb6-2>li:before{content:"" counter(lst-ctn-kix_vngh70ilzrb6-2,decimal) ". "}ol.lst-kix_vngh70ilzrb6-1{list-style-type:none}ol{margin:0;padding:0}table td,table th{padding:0}.c5{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:234pt;border-top-color:#000000;border-bottom-style:solid}.c9{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:87.8pt;border-top-color:#000000;border-bottom-style:solid}.c14{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:71.2pt;border-top-color:#000000;border-bottom-style:solid}.c15{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:396.8pt;border-top-color:#000000;border-bottom-style:solid}.c11{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:156pt;border-top-color:#000000;border-bottom-style:solid}.c7{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:380.2pt;border-top-color:#000000;border-bottom-style:solid}.c16{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:468pt;border-top-color:#000000;border-bottom-style:solid}.c0{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c17{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c10{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c3{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c6{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c12{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:center}.c8{border-spacing:0;border-collapse:collapse;margin-right:auto}.c13{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c19{margin-left:72pt;padding-left:0pt}.c18{padding:0;margin:0}.c4{height:0pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c13"><p class="c3"><span class="c1">Morgan Higginbotham</span></p><p class="c2"><span class="c1"></span></p><p class="c10"><span class="c1">Project 3-1</span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c17">Task 1</span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c1">The ray generator draws a vector from the camera to the point on the image at -1 z away from the camera. This image represents the object that is going to be rendered. For each ray we cast, we (as for part 1) check if it intersects any of the objects in the scene, and get the intersection of the closest one. From there, we get the color emission of that object and return it from the ray to the ray generator (where it was called from).</span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c1">As for the primitive intersection parts, each shape has an intersection and has_intersection function. Both are identical in their underlying logic. For the triangle, we check if it first intersects the plane that the triangle is on. Then we check if the point on which it intersects the place lies inside the triangle using our classic in-triangle tests. These in-triangle tests are composed of cross products and we used them for project 1. For the sphere, we simply match the ray equation to the quadratic equation, and solve. If the equation is solvable (i.e. has a real solution), then we have our intersection points. For both, we check if the intersection points are in the bounds t_min and t_max.</span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 318.50px; height: 239.36px;"><img alt="" src="images/image34.png" style="width: 318.50px; height: 239.36px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 314.50px; height: 235.88px;"><img alt="" src="images/image22.png" style="width: 314.50px; height: 235.88px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 310.00px; height: 232.50px;"><img alt="" src="images/image8.png" style="width: 310.00px; height: 232.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 312.33px; height: 234.50px;"><img alt="" src="images/image24.png" style="width: 312.33px; height: 234.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c17">Task 2</span></p><p class="c2"><span class="c17"></span></p><p class="c3"><span class="c1">The bvh construction algorithm is as follows.</span></p><ol class="c18 lst-kix_vngh70ilzrb6-0 start" start="1"><li class="c0 li-bullet-0"><span class="c1">Create a node</span></li><li class="c0 li-bullet-0"><span class="c1">Iterator though primitives, expanding node&rsquo;s b_box</span></li><li class="c0 li-bullet-0"><span class="c1">If there are more than max_per_leaf objects, split into left and right</span></li></ol><ol class="c18 lst-kix_vngh70ilzrb6-1 start" start="1"><li class="c3 c19 li-bullet-0"><span class="c1">Get axis with largest variance</span></li><li class="c3 c19 li-bullet-0"><span class="c1">Split and sort along axis based on mean position on chosen axis</span></li><li class="c3 c19 li-bullet-0"><span class="c1">Recursively call for left and right node.</span></li></ol><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c1">I chose to first calculate the mean, then the variance (as it requires knowing the mean, unless using other statistical methods), then picking the axis with the greatest variance. I then split the primitives based on if that axis component of the primitive was &lt; or &gt;= than the mean of that axis.</span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 315.33px; height: 236.50px;"><img alt="" src="images/image13.png" style="width: 315.33px; height: 236.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 313.50px; height: 235.13px;"><img alt="" src="images/image7.png" style="width: 313.50px; height: 235.13px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 324.50px; height: 324.50px;"><img alt="" src="images/image31.png" style="width: 324.50px; height: 324.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 314.00px; height: 235.50px;"><img alt="" src="images/image9.png" style="width: 314.00px; height: 235.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c1">As for any complex scene with lots of primitives, rendering with bvh speeds up the rendering by an enormous amount, consistently at least 100 fold. </span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><a id="t.a386a1a2166da03b69cdaf3a3df6376323be398d"></a><a id="t.0"></a><table class="c8"><tbody><tr class="c4"><td class="c11" colspan="1" rowspan="1"><p class="c6"><span class="c1">Primitive</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c6"><span class="c1">Without BVH</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c6"><span class="c1">With BVH</span></p></td></tr><tr class="c4"><td class="c11" colspan="1" rowspan="1"><p class="c6"><span class="c1">Teapot</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c6"><span class="c1">41.954</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c6"><span class="c1">0.409</span></p></td></tr><tr class="c4"><td class="c11" colspan="1" rowspan="1"><p class="c6"><span class="c1">Beetle</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c6"><span class="c1">39.359</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c6"><span class="c1">0.387</span></p></td></tr><tr class="c4"><td class="c11" colspan="1" rowspan="1"><p class="c6"><span class="c1">Peter</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c6"><span class="c1">48.233</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c6"><span class="c1">0.504</span></p></td></tr></tbody></table><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c1">The reason bvh is so much faster is because, when computing intersections, instead of searching for intersections of every object in the scene, we can search over the bvh boxes, avoiding any of them that cannot possibly intersect with our ray. This saves having to check many objects for intersections that have no chance of intersecting with our ray.</span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c17">Task 3 </span></p><p class="c2"><span class="c17"></span></p><p class="c3"><span class="c1">The hemisphere sampling function samples num_samples rays. For each sample, it first checks if the ray intersects with a box in the bvh. If it does, it gets the intersection and computes the hit ray, then gets a random incoming ray from the hemisphere sampler. It then gets the ray and computes the total radiance of the reflectance with the outcoming ray and the new incoming ray.</span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c1">The importance sampling function iterates through each light in the scene. For each light in the scene, it samples num_samples rays. For each sample, it first checks if the ray intersects with a box in the bvh. If it does, it gets the intersection and computes the hit ray, then gets the hit ray to that light source from the sample_L function.. It then gets the ray and computes the total radiance of the reflectance with the outcoming ray and the new incoming ray.</span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><a id="t.d7d1d249d519200802aaba9995e6c35809f20469"></a><a id="t.1"></a><table class="c8"><tbody><tr class="c4"><td class="c5" colspan="1" rowspan="1"><p class="c6"><span class="c1">Hemisphere Sampler</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c6"><span class="c1">Importance Sampler</span></p></td></tr><tr class="c4"><td class="c5" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 298.67px;"><img alt="" src="images/image1.png" style="width: 298.00px; height: 298.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 298.67px;"><img alt="" src="images/image16.png" style="width: 298.00px; height: 298.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr><tr class="c4"><td class="c5" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 298.67px;"><img alt="" src="images/image19.png" style="width: 298.00px; height: 298.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 298.67px;"><img alt="" src="images/image11.png" style="width: 298.00px; height: 298.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr><tr class="c4"><td class="c5" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 298.67px;"><img alt="" src="images/image30.png" style="width: 298.00px; height: 298.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 298.67px;"><img alt="" src="images/image37.png" style="width: 298.00px; height: 298.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c1">As for the noise comparison of the hemisphere sample function, it is much more noisy because we are sampling in random directions along a hemisphere. Because in most instances, a ray is not going to lead to a light source, most of the randomly sampled rays are not going to have color. As a result, we see many dark spots. As for the importance sampler, because it only gets rays that result from a light source, it avoids casting rays which lead to no light source, and thus, ones that have no color. Therefore, the image is going to appear much smoother.</span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><a id="t.267bea987aec3ca9439a6e85525d1de845e5325d"></a><a id="t.2"></a><table class="c8"><tbody><tr class="c4"><td class="c16" colspan="1" rowspan="1"><p class="c12"><span class="c1">1 sample per area light</span></p></td></tr><tr class="c4"><td class="c16" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 610.00px; height: 610.67px;"><img alt="" src="images/image18.png" style="width: 610.00px; height: 610.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr><tr class="c4"><td class="c16" colspan="1" rowspan="1"><p class="c12"><span class="c1">4 sample per area light</span></p></td></tr><tr class="c4"><td class="c16" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 610.00px; height: 610.67px;"><img alt="" src="images/image5.png" style="width: 610.00px; height: 610.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr><tr class="c4"><td class="c16" colspan="1" rowspan="1"><p class="c12"><span class="c1">16 sample per area light</span></p></td></tr><tr class="c4"><td class="c16" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 610.00px; height: 610.67px;"><img alt="" src="images/image15.png" style="width: 610.00px; height: 610.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr><tr class="c4"><td class="c16" colspan="1" rowspan="1"><p class="c12"><span class="c1">64 sample per area light</span></p></td></tr><tr class="c4"><td class="c16" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 610.00px; height: 610.67px;"><img alt="" src="images/image17.png" style="width: 610.00px; height: 610.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c17">Task 4</span></p><p class="c2"><span class="c17"></span></p><p class="c3"><span class="c1">The indirect lighting function, the at_least_one_bounce function, starts off by getting the one bounce radiance. If the ray has not reached its limit on the number of bounces, and the biased coin flip returns true, we sample the ray. We use a biased coin flip to stop the ray from infinitely continuing, or continuing for extremely long periods of time. We then get a ray from the sample f function (which in my case was from a uniform hemisphere sampler). If this ray intersects with the scene, we increment the radiance resulting from the next recursive call to this function.</span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><a id="t.34c968869fbbdaac8fff0fec79919d98042a1192"></a><a id="t.3"></a><table class="c8"><tbody><tr class="c4"><td class="c5" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 298.67px;"><img alt="" src="images/image3.png" style="width: 298.00px; height: 298.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 298.67px;"><img alt="" src="images/image29.png" style="width: 298.00px; height: 298.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr><tr class="c4"><td class="c5" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 298.67px;"><img alt="" src="images/image10.png" style="width: 298.00px; height: 298.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 298.67px;"><img alt="" src="images/image27.png" style="width: 298.00px; height: 298.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c1">As for the comparison between indirect and direct illumination</span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><a id="t.61900974664df0a2821f984e2ce8a987b2f5572f"></a><a id="t.4"></a><table class="c8"><tbody><tr class="c4"><td class="c5" colspan="1" rowspan="1"><p class="c6"><span class="c1">Direct</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c6"><span class="c1">Indirect</span></p></td></tr><tr class="c4"><td class="c5" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 298.67px;"><img alt="" src="images/image35.png" style="width: 298.00px; height: 298.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 298.67px;"><img alt="" src="images/image2.png" style="width: 298.00px; height: 298.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c1">The only direct illumination shows the emission of the object itself from the rays being cast. So there is no reflectance of the color from the other objects. For the only indirect illumination, we see the reflectance from the other objects in the space.</span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c1">As for the comparison between different max_ray_depth&rsquo;s</span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><a id="t.0d1f54994e654a63efd2b5e510d6c952f0121052"></a><a id="t.5"></a><table class="c8"><tbody><tr class="c4"><td class="c9" colspan="1" rowspan="1"><p class="c6"><span class="c1">max_ray_depth</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c6"><span class="c1">Image</span></p></td></tr><tr class="c4"><td class="c9" colspan="1" rowspan="1"><p class="c6"><span class="c1">0</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 493.00px; height: 493.33px;"><img alt="" src="images/image38.png" style="width: 493.00px; height: 493.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr><tr class="c4"><td class="c9" colspan="1" rowspan="1"><p class="c6"><span class="c1">1</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 493.00px; height: 493.33px;"><img alt="" src="images/image6.png" style="width: 493.00px; height: 493.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr><tr class="c4"><td class="c9" colspan="1" rowspan="1"><p class="c6"><span class="c1">2</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 493.00px; height: 493.33px;"><img alt="" src="images/image33.png" style="width: 493.00px; height: 493.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr><tr class="c4"><td class="c9" colspan="1" rowspan="1"><p class="c6"><span class="c1">3</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 493.00px; height: 493.33px;"><img alt="" src="images/image26.png" style="width: 493.00px; height: 493.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr><tr class="c4"><td class="c9" colspan="1" rowspan="1"><p class="c6"><span class="c1">100</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 493.00px; height: 493.33px;"><img alt="" src="images/image36.png" style="width: 493.00px; height: 493.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c1">As for the comparison between different sample-per-pixel rates</span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><a id="t.7e3d6af81e8b39b1fa07652b0e5a2746d9b3877f"></a><a id="t.6"></a><table class="c8"><tbody><tr class="c4"><td class="c14" colspan="1" rowspan="1"><p class="c6"><span class="c1">Sample-Per-Pixel Rate</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c6"><span class="c1">Image</span></p></td></tr><tr class="c4"><td class="c14" colspan="1" rowspan="1"><p class="c6"><span class="c1">1</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 515.00px; height: 514.67px;"><img alt="" src="images/image4.png" style="width: 515.00px; height: 514.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr><tr class="c4"><td class="c14" colspan="1" rowspan="1"><p class="c6"><span class="c1">2</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 515.00px; height: 514.67px;"><img alt="" src="images/image14.png" style="width: 515.00px; height: 514.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr><tr class="c4"><td class="c14" colspan="1" rowspan="1"><p class="c6"><span class="c1">4</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 515.00px; height: 514.67px;"><img alt="" src="images/image23.png" style="width: 515.00px; height: 514.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr><tr class="c4"><td class="c14" colspan="1" rowspan="1"><p class="c6"><span class="c1">16</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 515.00px; height: 514.67px;"><img alt="" src="images/image25.png" style="width: 515.00px; height: 514.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr><tr class="c4"><td class="c14" colspan="1" rowspan="1"><p class="c6"><span class="c1">64</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 515.00px; height: 514.67px;"><img alt="" src="images/image20.png" style="width: 515.00px; height: 514.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr><tr class="c4"><td class="c14" colspan="1" rowspan="1"><p class="c6"><span class="c1">1024</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 515.00px; height: 514.67px;"><img alt="" src="images/image21.png" style="width: 515.00px; height: 514.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c17">Task 5 </span></p><p class="c2"><span class="c17"></span></p><p class="c3"><span class="c1">The adaptive sampling algorithm samples rays for the particular pixel of the image in batches. Through each batch, it gets the mean and standard deviation of the illuminance of the samples, and computes the I value. If this value falls below a certain threshold , then we say the samples are not contributing enough to the scene with 95% certainty and we stop sampling additional rays. This helps tremendously in that we can avoid casting too many rays in which they contribute little to the scene, and instead focus our computational powers on rays that affect the overall image more. </span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 624.00px;"><img alt="" src="images/image28.png" style="width: 624.00px; height: 624.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 624.00px;"><img alt="" src="images/image32.png" style="width: 624.00px; height: 624.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c1">The sample rate came out as expected.</span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 587.50px; height: 292.37px;"><img alt="" src="images/image12.png" style="width: 587.50px; height: 292.37px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c1"></span></p><p class="c3"><span class="c1">On the left is the bunny that uses adaptive sampling. On the right is the same bunny without adaptive sampling. We can see there are less shador rays on the left than on the right: the shadows extend farther on the right. This is the same area, as shown in the sample rate image, this matches our observations.</span></p></body></html>